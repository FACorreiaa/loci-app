// Code generated by templ - DO NOT EDIT.

// templ: version: v0.3.943
package pwa

//lint:file-ignore SA4006 This context is only used if a nested component is present.

import "github.com/a-h/templ"
import templruntime "github.com/a-h/templ/runtime"

func InstallButton() templ.Component {
	return templruntime.GeneratedTemplate(func(templ_7745c5c3_Input templruntime.GeneratedComponentInput) (templ_7745c5c3_Err error) {
		templ_7745c5c3_W, ctx := templ_7745c5c3_Input.Writer, templ_7745c5c3_Input.Context
		if templ_7745c5c3_CtxErr := ctx.Err(); templ_7745c5c3_CtxErr != nil {
			return templ_7745c5c3_CtxErr
		}
		templ_7745c5c3_Buffer, templ_7745c5c3_IsBuffer := templruntime.GetBuffer(templ_7745c5c3_W)
		if !templ_7745c5c3_IsBuffer {
			defer func() {
				templ_7745c5c3_BufErr := templruntime.ReleaseBuffer(templ_7745c5c3_Buffer)
				if templ_7745c5c3_Err == nil {
					templ_7745c5c3_Err = templ_7745c5c3_BufErr
				}
			}()
		}
		ctx = templ.InitializeContext(ctx)
		templ_7745c5c3_Var1 := templ.GetChildren(ctx)
		if templ_7745c5c3_Var1 == nil {
			templ_7745c5c3_Var1 = templ.NopComponent
		}
		ctx = templ.ClearChildren(ctx)
		templ_7745c5c3_Err = templruntime.WriteString(templ_7745c5c3_Buffer, 1, "<div x-data=\"{ \n\t\t\tshowInstallButton: false,\n\t\t\tdeferredPrompt: null,\n\t\t\tinit() {\n\t\t\t\t// Listen for beforeinstallprompt event\n\t\t\t\twindow.addEventListener('beforeinstallprompt', (e) => {\n\t\t\t\t\tconsole.log('PWA install prompt available');\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tthis.deferredPrompt = e;\n\t\t\t\t\tthis.showInstallButton = true;\n\t\t\t\t});\n\t\t\t\t\n\t\t\t\t// Hide install button if PWA is already installed\n\t\t\t\twindow.addEventListener('appinstalled', (e) => {\n\t\t\t\t\tconsole.log('PWA was installed');\n\t\t\t\t\tthis.showInstallButton = false;\n\t\t\t\t\tthis.deferredPrompt = null;\n\t\t\t\t});\n\t\t\t},\n\t\t\tinstall() {\n\t\t\t\tif (this.deferredPrompt) {\n\t\t\t\t\tthis.deferredPrompt.prompt();\n\t\t\t\t\tthis.deferredPrompt.userChoice.then((choiceResult) => {\n\t\t\t\t\t\tconsole.log('User choice: ', choiceResult.outcome);\n\t\t\t\t\t\tif (choiceResult.outcome === 'accepted') {\n\t\t\t\t\t\t\tconsole.log('User accepted the PWA install prompt');\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconsole.log('User dismissed the PWA install prompt');\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthis.deferredPrompt = null;\n\t\t\t\t\t\tthis.showInstallButton = false;\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\" x-show=\"showInstallButton\" x-transition:enter=\"transition ease-out duration-200\" x-transition:enter-start=\"opacity-0 scale-95\" x-transition:enter-end=\"opacity-100 scale-100\" x-transition:leave=\"transition ease-in duration-100\" x-transition:leave-start=\"opacity-100 scale-100\" x-transition:leave-end=\"opacity-0 scale-95\" class=\"fixed bottom-4 right-4 z-50\" style=\"display: none;\"><button @click=\"install()\" class=\"flex items-center gap-3 bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-6 py-3 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 transform hover:scale-105\"><svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4\"></path></svg> <span class=\"font-medium\">Install App</span></button></div><!-- Alternative iOS install instructions --><div x-data=\"{ \n\t\t\tshowIOSInstructions: false,\n\t\t\tinit() {\n\t\t\t\t// Detect iOS Safari\n\t\t\t\tconst isIOSSafari = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\n\t\t\t\tconst isStandalone = window.matchMedia('(display-mode: standalone)').matches;\n\t\t\t\t\n\t\t\t\tif (isIOSSafari && !isStandalone) {\n\t\t\t\t\t// Show iOS instructions after a delay if install prompt doesn't appear\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tif (!this.showInstallButton) {\n\t\t\t\t\t\t\tthis.showIOSInstructions = true;\n\t\t\t\t\t\t}\n\t\t\t\t\t}, 5000);\n\t\t\t\t}\n\t\t\t}\n\t\t}\" x-show=\"showIOSInstructions\" x-transition class=\"fixed bottom-4 left-4 right-4 md:left-auto md:w-80 z-50 bg-card border rounded-lg shadow-lg p-4\" style=\"display: none;\"><div class=\"flex items-start gap-3\"><div class=\"flex-shrink-0 w-8 h-8 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center\"><svg class=\"w-4 h-4 text-blue-600 dark:text-blue-400\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"></path></svg></div><div class=\"flex-1\"><h4 class=\"font-semibold text-foreground mb-2\">Install Loci App</h4><div class=\"text-sm text-muted-foreground space-y-1\"><p>1. Tap the share button <svg class=\"inline w-4 h-4\" fill=\"currentColor\" viewBox=\"0 0 20 20\"><path d=\"M15 8a3 3 0 10-2.977-2.63l-4.94 2.47a3 3 0 100 4.319l4.94 2.47a3 3 0 10.895-1.789l-4.94-2.47a3.027 3.027 0 000-.74l4.94-2.47C13.456 7.68 14.19 8 15 8z\"></path></svg></p><p>2. Select \"Add to Home Screen\"</p><p>3. Tap \"Add\" to install</p></div></div><button @click=\"showIOSInstructions = false\" class=\"flex-shrink-0 p-1 hover:bg-accent rounded\"><svg class=\"w-4 h-4\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\"><path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\"></path></svg></button></div></div>")
		if templ_7745c5c3_Err != nil {
			return templ_7745c5c3_Err
		}
		return nil
	})
}

var _ = templruntime.GeneratedTemplate
